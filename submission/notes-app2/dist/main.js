(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,a=0;a<e.length;a++)if(e[a].identifier===t){n=a;break}return n}function a(t,a){for(var s={},r=[],o=0;o<t.length;o++){var d=t[o],c=a.base?d[0]+a.base:d[0],l=s[c]||0,h="".concat(c," ").concat(l);s[c]=l+1;var u=n(h),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var v=i(p,a);a.byIndex=o,e.splice(o,0,{identifier:h,updater:v,references:1})}r.push(h)}return r}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var s=a(t=t||[],i=i||{});return function(t){t=t||[];for(var r=0;r<s.length;r++){var o=n(s[r]);e[o].references--}for(var d=a(t,i),c=0;c<s.length;c++){var l=n(s[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=d}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,a,i,s){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(a)for(var o=0;o<this.length;o++){var d=this[o][0];null!=d&&(r[d]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);a&&r[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},365:(t,e,n)=>{n.d(e,{A:()=>o});var a=n(601),i=n.n(a),s=n(314),r=n.n(s)()(i());r.push([t.id,":root {\n    --bg: #0f1724;\n    --card: #0b1220;\n    --muted: #9aa4b2;\n    --accent: #06b6d4;\n    --accent-2: #7c3aed;\n    --radius: 12px;\n    color-scheme: dark;\n    font-family: 'Inter', system-ui, sans-serif;\n}\n\nhtml,\nbody {\n    height: 100%;\n    margin: 0;\n    background: linear-gradient(180deg, var(--bg), #071022);\n    color: #e6eef6\n}\n\n.app-shell {\n    max-width: 1100px;\n    margin: 28px auto;\n    padding: 20px\n}",""]);const o=r},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,n){var a=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,i&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var s=e[a]={id:a,exports:{}};return t[a](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0;var a={};n.r(a);class i extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).innerHTML='\n    <style>\n    :host{\n        display:block;\n        margin-bottom:16px\n    }\n    header{\n        display:flex;\n        align-items:center;\n        gap:12px\n    }\n    h1{\n        font-size:1.2rem;\n        margin:0\n    }\n    .subtitle{\n        color:var(--muted);\n        font-size:.9rem\n    }\n    .brand{\n        display:flex;\n        align-items:center;\n        gap:10px\n    }\n    .logo{\n        width:44px;\n        height:44px;\n        border-radius:10px;\n        background:linear-gradient(135deg,var(--accent),var(--accent-2));\n        display:flex;\n        align-items:center;\n        justify-content:center;\n        font-weight:700\n    }\n    </style>\n    <header>\n        <div class="brand">\n            <div class="logo">N</div>\n                <div>\n                    <h1>Notes App</h1>\n                    <div class="subtitle">Sebuah contoh web component</div>\n                </div>\n        </div>\n    </header>\n'}}customElements.get("app-bar")||customElements.define("app-bar",i);class s extends HTMLElement{constructor(){super(),this._data=null,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n    <style>\n    :host{\n        display:block\n    }\n    .card{\n        background:var(--card);\n        padding:14px;\n        border-radius:12px;\n        box-shadow:0 6px 18px rgba(3,7,18,0.6);\n        min-height:90px;\n        display:flex;\n        flex-direction:\n        column;gap:8px\n    }\n    .meta{\n        display:flex;\n        justify-content:space-between;\n        align-items:center;\n        font-size:.82rem;\n        color:var(--muted)\n    }\n    .title{\n        font-weight:600;\n        font-size:1rem;\n        margin:0\n    }\n    .body{\n        flex:1;\n        color:#dcebf7;\n        font-size:.95rem;\n        white-space:pre-wrap;\n        overflow:hidden;\n        text-overflow:ellipsis\n    }\n    .controls{\n        display:flex;\n        gap:8px;\n        margin-top:8px\n    }\n    button{\n        background:transparent;\n        border:1px solid rgba(255,255,255,0.04);\n        padding:6px 8px;\n        border-radius:8px;\n        color:var(--muted);\n        cursor:pointer\n    }\n    button:hover{\n        border-color:rgba(255,255,255,0.08)\n    }\n    </style>\n\n    <article class="card">\n        <div class="meta">\n            <div class="date">â€”</div>\n        </div>\n        <h3 class="title"></h3>\n        <div class="body"></div>\n        <div class="controls">\n             <button part="archive">Arsipkan</button> <button part="del">Hapus</button>\n        </div>\n    </article>\n',this.$={title:this.shadowRoot.querySelector(".title"),body:this.shadowRoot.querySelector(".body"),date:this.shadowRoot.querySelector(".date"),delBtn:this.shadowRoot.querySelector('button[part="del"]'),archiveBtn:this.shadowRoot.querySelector('button[part="archive"]')},this.$.delBtn.addEventListener("click",()=>this._delete()),this.$.archiveBtn.addEventListener("click",()=>this._archive())}connectedCallback(){(0,a.default)({targets:this,opacity:[0,1],translateY:[20,0],duration:500,easing:"easeOutExpo"})}set data(t){this._data=t,this.render()}render(){this._data&&(this.$.title.textContent=this._data.title,this.$.body.textContent=this._data.body,this.$.date.textContent=new Date(this._data.createdAt).toLocaleString(),this.$.archiveBtn.textContent=this._data.archived?"Pindahkan":"Arsipkan")}_delete(){console.log('Langkah 1: Event "delete-note" dikirim untuk ID:',this._data.id),this.dispatchEvent(new CustomEvent("delete-note",{detail:{id:this._data.id},bubbles:!0,composed:!0}))}_archive(){this.dispatchEvent(new CustomEvent("archive-note",{detail:{id:this._data.id,archived:this._data.archived},bubbles:!0,composed:!0}))}}customElements.get("note-item")||customElements.define("note-item",s);class r extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n    <style>\n    form{\n        background:rgba(255,255,255,0.02);\n        padding:14px;\n        border-radius:12px;\n    }\n    label{\n        display:block;\n        font-size:.85rem;\n        margin-bottom:6px;\n        color:var(--muted)\n    }\n    input,textarea{\n        width:97%;\n        padding:10px;\n        border-radius:8px;\n        background:transparent;\n        border:1px solid rgba(255,255,255,0.04);\n        color:var(--muted)\n    }\n    textarea{\n        min-height:90px\n    }\n    .actions{\n        display:flex;\n        justify-content:\n        flex-end;\n        margin-top:10px\n    }\n    button{\n        background:linear-gradient(90deg,var(--accent),var(--accent-2));\n        border:0;\n        padding:8px 12px;\n        border-radius:10px;\n        color:#051023;\n        font-weight:600;\n        cursor:pointer\n    }\n    </style>\n\n    <form>\n        <label>Judul</label>\n        <input name="title" type="text" />\n        <label>Isi</label>\n        <textarea name="body"></textarea>\n        <div class="actions">\n            <button type="submit">Tambah</button>\n        </div>\n    </form>\n',this.$={form:this.shadowRoot.querySelector("form"),title:this.shadowRoot.querySelector('input[name="title"]'),body:this.shadowRoot.querySelector('textarea[name="body"]')},this.$.form.addEventListener("submit",t=>{t.preventDefault(),this._onSubmit()})}_onSubmit(){const t={id:`local-${Date.now()}`,title:this.$.title.value,body:this.$.body.value,createdAt:(new Date).toISOString(),archived:!1};this.dispatchEvent(new CustomEvent("add-note",{detail:{note:t},bubbles:!0,composed:!0})),this.$.title.value="",this.$.body.value=""}}customElements.get("note-form")||customElements.define("note-form",r);const o=class{static BASE_URL="https://notes-api.dicoding.dev/v2";static async getNotes(){const t=await fetch(`${this.BASE_URL}/notes`),e=await t.json();if("success"!==e.status)throw new Error(e.message);return e.data}static async addNote(t){const e=await fetch(`${this.BASE_URL}/notes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();if("success"!==n.status)throw new Error(n.message);return n.data}static async deleteNote(t){const e=await fetch(`${this.BASE_URL}/notes/${t}`,{method:"DELETE"}),n=await e.json();if("success"!==n.status)throw new Error(n.message)}static async getArchivedNotes(){const t=await fetch(`${this.BASE_URL}/notes/archived`),e=await t.json();if("success"!==e.status)throw new Error(e.message);return e.data}static async archiveNote(t){const e=await fetch(`${this.BASE_URL}/notes/${t}/archive`,{method:"POST"}),n=await e.json();if("success"!==n.status)throw new Error(n.message)}static async unarchiveNote(t){const e=await fetch(`${this.BASE_URL}/notes/${t}/unarchive`,{method:"POST"}),n=await e.json();if("success"!==n.status)throw new Error(n.message)}};class d extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n    <style>\n    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:14px}.panel{background:var(--card);padding:12px;border-radius:12px}.loading, .error{text-align: center;color: var(--muted);padding: 20px;}\n    .view-switcher{display:flex;gap:10px;margin:16px 0;border-bottom:1px solid rgba(255,255,255,0.05);padding-bottom:10px}.view-switcher button{background:transparent;border:0;color:var(--muted);padding:4px 8px;cursor:pointer;font-size:0.9rem;border-radius:6px}.view-switcher button.active{background:rgba(255,255,255,0.05);color:#fff;font-weight:600}\n    </style>\n    </style>\n     <div class="panel">\n            <app-bar></app-bar>\n            <note-form></note-form>\n\n            <div class="view-switcher">\n              <button id="viewActive" class="active">Catatan Aktif</button>\n              <button id="viewArchived">Arsip</button>\n            </div>\n\n            <div class="grid" id="notesGrid"></div>\n        </div>\n',this.state={activeNotes:[],archivedNotes:[],currentView:"active",isLoading:!0,error:null}}async connectedCallback(){this.$={grid:this.shadowRoot.querySelector("#notesGrid"),viewActiveBtn:this.shadowRoot.querySelector("#viewActive"),viewArchivedBtn:this.shadowRoot.querySelector("#viewArchived")},this.$.viewActiveBtn.addEventListener("click",()=>this._changeView("active")),this.$.viewArchivedBtn.addEventListener("click",()=>this._changeView("archived")),this.shadowRoot.addEventListener("add-note",t=>this._add(t.detail.note)),this.shadowRoot.addEventListener("delete-note",t=>this._delete(t.detail.id)),this.shadowRoot.addEventListener("archive-note",t=>this._archive(t.detail)),await this._fetchAllNotes()}async _fetchAllNotes(){try{this.state.isLoading=!0,this._render();const[t,e]=await Promise.all([o.getNotes(),o.getArchivedNotes()]);console.log("Langkah 3: Data baru diterima dari API.",{activeNotes:t,archivedNotes:e}),this.state.activeNotes=t,this.state.archivedNotes=e}catch(t){this.state.error=t.message,console.error(t)}finally{console.log("Fetch selesai. Akan memanggil RENDER dari blok finally..."),this.state.isLoading=!1,this._render()}}_changeView(t){this.state.currentView=t,this._render()}async _fetchNotes(){try{const t=await o.getNotes();this.state.notes=t}catch(t){this.state.error=t.message,console.error(t)}finally{this.state.isLoading=!1,this._render()}}async _add(t){const e={title:t.title,body:t.body};try{this.state.isLoading=!0,this._render(),await o.addNote(e),await this._fetchAllNotes()}catch(t){this.state.error=t.message,this.state.isLoading=!1,this._render(),alert(`Gagal menambahkan catatan: ${t.message}`)}}async _delete(t){console.log('Langkah 2: Handler "_delete" menerima ID:',t);try{this.state.isLoading=!0,this._render(),await o.deleteNote(t),await this._fetchNotes()}catch(t){this.state.error=t.message,this.state.isLoading=!1,this._render(),console.error(t),alert(`Gagal menghapus catatan: ${t.message}`)}}async _archive({id:t,archived:e}){try{this.state.isLoading=!0,this._render(),e?await o.unarchiveNote(t):await o.archiveNote(t),await this._fetchAllNotes()}catch(t){this.state.error=t.message,this.state.isLoading=!1,this._render(),alert(`Gagal mengubah status arsip: ${t.message}`)}}_render(){if(console.log("Fungsi RENDER dieksekusi. View:",this.state.currentView,"Loading:",this.state.isLoading),this.$.viewActiveBtn.classList.toggle("active","active"===this.state.currentView),this.$.viewArchivedBtn.classList.toggle("active","archived"===this.state.currentView),this.$.grid.innerHTML="",this.state.isLoading)return void(this.$.grid.innerHTML='<div class="loading">Loading...</div>');if(this.state.error)return void(this.$.grid.innerHTML=`<div class="error">Error: ${this.state.error}</div>`);const t="active"===this.state.currentView?this.state.activeNotes:this.state.archivedNotes;if(0===t.length){const t="active"===this.state.currentView?"Tidak ada catatan aktif.":"Tidak ada catatan di arsip.";return void(this.$.grid.innerHTML=`<div class="error">${t}</div>`)}t.forEach(t=>{const e=document.createElement("note-item");e.data=t,this.$.grid.appendChild(e)})}}customElements.get("notes-app")||customElements.define("notes-app",d);var c=n(72),l=n.n(c),h=n(825),u=n.n(h),p=n(659),v=n.n(p),m=n(56),g=n.n(m),f=n(540),b=n.n(f),y=n(113),w=n.n(y),x=n(365),E={};E.styleTagTransform=w(),E.setAttributes=g(),E.insert=v().bind(null,"head"),E.domAPI=u(),E.insertStyleElement=b(),l()(x.A,E),x.A&&x.A.locals&&x.A.locals})();